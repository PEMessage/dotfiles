#!/usr/bin/env python3

import sys
import json

def main():
    json_input = sys.stdin.read()

    try:
        data_list = json.loads(json_input)
    except json.JSONDecodeError:
        print("Invalid JSON input.")
        return

    if len(sys.argv) < 2:
        print("Please provide a format string as a command line argument.")
        return

    format_string = sys.argv[1]

    for item in data_list:
        try:
            output = format_string.format(**item)
            print(output)
        except KeyError as e:
            print(f"Key error: {e} in item {item}")
        except Exception as e:
            print(f"Error formatting item {item}: {e}")

if __name__ == "__main__":
    main()

